"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[311],{3905:(e,a,r)=>{r.d(a,{Zo:()=>p,kt:()=>f});var t=r(7294);function n(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function i(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?i(Object(r),!0).forEach((function(a){n(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function s(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=t.createContext({}),d=function(e){var a=t.useContext(o),r=a;return e&&(r="function"==typeof e?e(a):l(l({},a),e)),r},p=function(e){var a=d(e.components);return t.createElement(o.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},c=t.forwardRef((function(e,a){var r=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(r),f=n,m=c["".concat(o,".").concat(f)]||c[f]||u[f]||i;return r?t.createElement(m,l(l({ref:a},p),{},{components:r})):t.createElement(m,l({ref:a},p))}));function f(e,a){var r=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=c;var s={};for(var o in a)hasOwnProperty.call(a,o)&&(s[o]=a[o]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var d=2;d<i;d++)l[d]=r[d];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}c.displayName="MDXCreateElement"},7215:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>p,contentTitle:()=>o,default:()=>f,frontMatter:()=>s,metadata:()=>d,toc:()=>u});var t=r(7462),n=r(3366),i=(r(7294),r(3905)),l=["components"],s={id:"api-area-user-add",title:"Area API | Add Users to Area",sidebar_label:"Add Users to Area"},o=void 0,d={unversionedId:"api/area/api-area-user-add",id:"api/area/api-area-user-add",title:"Area API | Add Users to Area",description:"API Summary",source:"@site/docs/api/area/api-area-user-add.md",sourceDirName:"api/area",slug:"/api/area/api-area-user-add",permalink:"/docs/api/area/api-area-user-add",tags:[],version:"current",frontMatter:{id:"api-area-user-add",title:"Area API | Add Users to Area",sidebar_label:"Add Users to Area"},sidebar:"docs-api",previous:{title:"Update or Create",permalink:"/docs/api/area/api-area-update-or-create"},next:{title:"Remove Users from Area",permalink:"/docs/api/area/api-area-user-remove"}},p={},u=[{value:"API Summary",id:"api-summary",level:2},{value:"API details",id:"api-details",level:2},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Response and Error reporting",id:"response-and-error-reporting",level:3},{value:"Primary Keys",id:"primary-keys",level:2},{value:"Available Fields per Area",id:"available-fields-per-area",level:2},{value:"<code>areaId</code> AreaId",id:"areaid-areaid",level:4},{value:"<code>users</code> [UserId]",id:"users-userid",level:4}],c={toc:u};function f(e){var a=e.components,r=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,t.Z)({},c,r,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"api-summary"},"API Summary"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Endpoint"),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"th"},(0,i.kt)("a",{parentName:"strong",href:"https://api.feedback.house/api/planning/area/v1/user-add"},"https://api.feedback.house/api/planning/area/v1/user-add"))))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Method"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"POST"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Format"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"JSON"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Idempotent"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"YES"),", using primary keys")))),(0,i.kt)("h2",{id:"api-details"},"API details"),(0,i.kt)("p",null,"This endpoint will ",(0,i.kt)("strong",{parentName:"p"},"add")," existing ",(0,i.kt)("inlineCode",{parentName:"p"},"Users")," to existing ",(0,i.kt)("inlineCode",{parentName:"p"},"Areas"),". "),(0,i.kt)("p",null,"Area is the smallest unit of a group of colleagues working with a single purpose. "),(0,i.kt)("p",null,"This API was intentionally designed with idea that it will be able to be called multiple times. So user will be only included to a Area only once, regardless of the number of calls you make to this APIs."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: This API will enforce the payload received. This means that if ",(0,i.kt)("inlineCode",{parentName:"p"},"AreaId")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"UserId")," are both correct the user will be transferred to the new Area, regardless of any other previous setting.")),(0,i.kt)("h3",{id:"batch-operations"},"Batch Operations"),(0,i.kt)("p",null,"This endpoint supports ",(0,i.kt)("inlineCode",{parentName:"p"},"batch")," operations and as such expects ",(0,i.kt)("strong",{parentName:"p"},"an array of areas")," (",(0,i.kt)("em",{parentName:"p"},"in the format of an array of objects"),"). "),(0,i.kt)("p",null,"Each object must contain the expected user or users to be included. This means that you can use this API to update multiple distinctive areas. This behavior is optional and not required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    areaUsersAdd: [\n        {\n            "areaId": "997f1f77bcf86cd799439011",\n            "users": ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"]\n        },\n        {  \n            "areaId": "997f1f77bcf86cd799439011",\n            "users": ["507f1f77bcf86cd799439014", "507f1f77bcf86cd799439016"] \n        },\n        {\n            "areaId": "997f1f77bcf86cd799439012", \n            "users": ["507f1f77bcf86cd799439011"] \n        },\n        ...\n    ]\n}\n')),(0,i.kt)("p",null,"If you need to add just one user you can call the API with just one area in the array object:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    areaUsersAdd: [ \n        { \n            "areaId": "997f1f77bcf86cd799439011", \n            "users": ["507f1f77bcf86cd799412345"]\n        }\n    ]\n}\n')),(0,i.kt)("h3",{id:"response-and-error-reporting"},"Response and Error reporting"),(0,i.kt)("p",null,"For each request the API will evaluate each ",(0,i.kt)("inlineCode",{parentName:"p"},"Area")," individually and will report errors per area. This means that this API can successfully create or update some areas while rejecting others."),(0,i.kt)("p",null,"Response example for a request without errors:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": "OK",\n    "message": "Update 10 | Errors 0",\n    "data": [\n        {\n            "areaId": "997f1f77bcf86cd799439011",\n            "users": ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"]\n        },\n        {  \n            "areaId": "997f1f77bcf86cd799439011",\n            "users": ["507f1f77bcf86cd799439014", "507f1f77bcf86cd799439016"] \n        },\n        {\n            "areaId": "997f1f77bcf86cd799439012", \n            "users": ["507f1f77bcf86cd799439011"] \n        },\n        ...\n    ],\n    "errors": []\n}\n')),(0,i.kt)("p",null,"Response example for a request ",(0,i.kt)("strong",{parentName:"p"},"with errors"),". In the example bellow the required field ",(0,i.kt)("inlineCode",{parentName:"p"},"users")," field is missing."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "status": "OK",\n    "message": "Updated 2 | Errors 1",\n    "errors": [\n        {\n        "object": {\n            "areaID": "997f1f77bcf86cd799439011",\n            ...\n        },\n        "message": "Missing users"\n    }\n}\n')),(0,i.kt)("h2",{id:"primary-keys"},"Primary Keys"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"areadId")," field define which ",(0,i.kt)("inlineCode",{parentName:"p"},"Areas")," will be updated with new users."),(0,i.kt)("p",null,"Primary key fields:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"areaId")," - The associated unique Id of this Area.")),(0,i.kt)("p",null,"Notes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AreaId")," is required, calling this API with ",(0,i.kt)("inlineCode",{parentName:"li"},"AreaID")," will result in errors"),(0,i.kt)("li",{parentName:"ul"},"Calling a API with the same payload a second time (ie. same keys) will ",(0,i.kt)("strong",{parentName:"li"},"not")," duplicate users in the area.")),(0,i.kt)("h2",{id:"available-fields-per-area"},"Available Fields per Area"),(0,i.kt)("h4",{id:"areaid-areaid"},(0,i.kt)("inlineCode",{parentName:"h4"},"areaId")," ","[AreaId]"),(0,i.kt)("p",null,"Unique identification number for this Area. "),(0,i.kt)("p",null,"This field is required."),(0,i.kt)("h4",{id:"users-userid"},(0,i.kt)("inlineCode",{parentName:"h4"},"users")," [","[UserId]","]"),(0,i.kt)("p",null,"This field defines the ",(0,i.kt)("inlineCode",{parentName:"p"},"Users")," that will be included in this Area. "),(0,i.kt)("p",null,"This field expects an array of users in the format ",(0,i.kt)("inlineCode",{parentName:"p"},'users: ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439011"]'),"."))}f.isMDXComponent=!0}}]);