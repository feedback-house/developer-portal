<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>User API | Create or Update · Feedback House for Developers</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## API Summary"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="User API | Create or Update · Feedback House for Developers"/><meta property="og:type" content="website"/><meta property="og:url" content="https://developers.feedback.house/"/><meta property="og:description" content="## API Summary"/><meta property="og:image" content="https://developers.feedback.house/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://developers.feedback.house/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://developers.feedback.house/blog/atom.xml" title="Feedback House for Developers Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://developers.feedback.house/blog/feed.xml" title="Feedback House for Developers Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="Feedback House for Developers"/><h2 class="headerTitleWithLogo">Feedback House for Developers</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/getting-started" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/doc4" target="_self">API</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Users API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">First Category</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/doc4">Other Document</a></li><li class="navListItem"><a class="navItem" href="/docs/doc3">This is document number 3</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Users API</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/api-user-create">User API | Create or Update</a></li><li class="navListItem"><a class="navItem" href="/docs/doc5">Fifth Document</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">User API | Create or Update</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="api-summary"></a><a href="#api-summary" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Summary</h2>
<p>Endpoint: <strong><a href="https://api.feedback.house/api/user/v1/update-or-create">https://api.feedback.house/api/user/v1/update-or-create</a></strong></p>
<p>Method: <strong>POST</strong></p>
<p>Format: <strong>JSON</strong></p>
<p>Idempotent: <strong>YES</strong>, using primary keys</p>
<h2><a class="anchor" aria-hidden="true" id="api-details"></a><a href="#api-details" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API details</h2>
<p>This endpoint supports creating or updating users. This API was intentionaly designed with idea that it will first try find and update users and only whe no existing user is found a new one will be created. This design allows this API to be regurlaly be called by your company. With this API you have a single endpoint that can handle multiple scenarios such as: User addmision, change user's manager, change user's area, or even disabling users when they leave your company.</p>
<p>When calling this API must design your code to pass the latest, most updated user information. If an existing user is found, <em>using the primary keys</em>, the user will be updated. Only when no existing user is found the API will create a new user.</p>
<h3><a class="anchor" aria-hidden="true" id="batch-operations"></a><a href="#batch-operations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Batch Operations</h3>
<p>This edpoint supports <code>batch</code> operations and as such expects <strong>an array of users</strong> (<em>in the format of an array of objects</em>) containing each users details:</p>
<pre><code class="hljs css language-json">users: [
 { "name": "User 1", "emails": ["user1@yourcompany.com"], ... },
 { "name": "User 2", "emails": ["user2@yourcompany.com","anotheru@company.com"], ... },
 { "name": "User 3", "emails": ["user3@yourcompany.com"], "gender": "MALE", ... },
 ...
]
</code></pre>
<p>If you need to create or update just one user you can call the API with just one user in the array object:</p>
<pre><code class="hljs css language-json">users: [ { "name": "User 1", "emails": ["user1@yourcompany.com"], ... },]
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="error-reporting"></a><a href="#error-reporting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error reporting</h3>
<p>For each request the API will evaluate each user individually and will report errors per user. This means that this API can sucesslfully create or update some users while rejecting others.</p>
<h2><a class="anchor" aria-hidden="true" id="idempotency-primary-keys"></a><a href="#idempotency-primary-keys" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Idempotency Primary Keys</h2>
<p>Primay keys fields define if users will be updated or created. In simple terms: If one of the primary keys in the user payload is found in the user database the user will be updated.</p>
<p>New users are created only when none of the provided keys is found.</p>
<p>Primary key fields:</p>
<ul>
<li><code>emails</code> - The associated emails of a user are primary keys. Since users can have multiple emails, if one email is found the user will be updated.</li>
<li><code>taxId</code> - The user taxID. (<em>ie. CPF, Social Security Number</em>)</li>
<li><code>employeeId</code> - The user employeeId in the context of your company. You can use any key here as long you can controll it.</li>
</ul>
<p>Notes:</p>
<ul>
<li>Primary keys are not required, however when no primary keys are defined in the payload a new user will be created upon each request.</li>
<li>Calling a API with the same payload a second time (ie. same keys) will not create a new user, it will update the previsuly created user.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="available-fields-per-user"></a><a href="#available-fields-per-user" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Available Fields per user</h2>
<p>The only required field is <code>title</code>; however, we provide options to add author information to your blog post as well along with other options.</p>
<ul>
<li><code>name</code> - The user fullname. This field is required.</li>
<li><code>emails</code> - The associated emails of this user. Users can have multiple emails. This field expects an array in the format <code>emails: ['email1@yourcompany.com','email2@yourcompany.com']</code>. This field will also be used as primary key to detect if users will be created or updated.</li>
<li><code>gender</code> - Gender of the user.</li>
<li><code>groups</code> - Groups that this user bellongs to. Needs to be a valid <code>GroupID</code></li>
<li><code>title</code> - The user job post title. This a string.</li>
<li><code>active</code> - Defines if the user is active or not.</li>
</ul>
<p>This is a link to <a href="/docs/doc3">another document.</a>  <br>
This is a link to an <a href="http://www.example.com">external page.</a></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/doc3"><span class="arrow-prev">← </span><span>This is document number 3</span></a><a class="docs-next button" href="/docs/doc5"><span>Fifth Document</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#api-summary">API Summary</a></li><li><a href="#api-details">API details</a><ul class="toc-headings"><li><a href="#batch-operations">Batch Operations</a></li><li><a href="#error-reporting">Error reporting</a></li></ul></li><li><a href="#idempotency-primary-keys">Idempotency Primary Keys</a></li><li><a href="#available-fields-per-user">Available Fields per user</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/docs/en/doc1.html">Getting Started</a><a href="/docs/en/doc3.html">API Reference</a></div><div><h5>Community</h5><a href="https://twitter.com/feedback_house" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/feedback-house/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © Feedback House / Entria</section></footer></div></body></html>